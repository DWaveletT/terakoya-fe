import{_ as V,bg as v,P as i,a2 as y,a3 as l,aZ as x,Q as E,a1 as I,a4 as d,as as e,a6 as a,a_ as m,b8 as B,bh as g,bi as p,bj as k,ae as u,bk as w,af as C,aY as N,b9 as T,aX as P}from"./index-Db9mosT3.js";import{u as U,B as h}from"./BlockSidebar-C6btI48s.js";import{T as F}from"./TextEditor-CIAoeQKp.js";import"./test-D7kRrlEY.js";const R={class:"main-container"},S={class:"submit"},j=V({__name:"PostNew",setup(q){const f=U(),b=v();function _(){let n=b.query.boardId;return E(n)?parseInt(n[0]||"1"):parseInt(n||"1")}const r=i(_()),s=i({id:null,board:null,like:null,dislike:null,title:"",content:"",poster:null,time:null});return(n,o)=>(I(),y(x,{bread:[{label:"寺子屋",name:"home"},{label:"帖子列表",name:"post.list"},{label:"发布帖子"}],title:"发布帖子"},{default:l(()=>[d("div",R,[e(a(T),{gutter:20},{default:l(()=>[e(a(m),{span:6},{default:l(()=>[e(h,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=t=>r.value=t)},null,8,["modelValue"])]),_:1}),e(a(m),{span:18},{default:l(()=>[e(a(B),null,{default:l(()=>[e(a(g),{model:s.value,"label-width":"auto"},{default:l(()=>[e(a(p),{label:"帖子标题"},{default:l(()=>[e(a(k),{type:"text",modelValue:s.value.title,"onUpdate:modelValue":o[1]||(o[1]=t=>s.value.title=t),placeholder:"长度应介于 1 至 10 之间"},null,8,["modelValue"])]),_:1}),e(a(p),{label:"帖子内容"},{default:l(()=>[e(F,{modelValue:s.value.content,"onUpdate:modelValue":o[2]||(o[2]=t=>s.value.content=t),style:{"flex-grow":"1"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),d("div",S,[d("span",null,[u("将会发布在 "),e(a(w),{type:"primary",size:"large"},{default:l(()=>{var t;return[u(C((t=a(f).boards.find(c=>c.id===r.value))==null?void 0:t.name),1)]}),_:1}),u(" 版块")]),e(a(N),{type:"primary"},{default:l(()=>[u("发布")]),_:1})])]),_:1})]),_:1})]),_:1})])]),_:1},8,["bread"]))}}),Q=P(j,[["__scopeId","data-v-cb1d4f19"]]);export{Q as default};
