import{ai as L,aj as Q,D as N,E as G,cn as ne,Y as B,_ as Y,br as W,cC as ie,cD as U,O as v,G as x,bX as D,K as j,aB as Z,ax as ee,cE as ue,b1 as $,aJ as ce,$ as R,a6 as I,a2 as A,aa as te,a3 as C,a4 as S,ah as P,ag as O,an as ae,F as le,aC as fe,aP as V,a0 as K,a1 as oe,a5 as ve,aG as de,ar as me,z as pe,aS as q,ab as he,B as be,aO as ge,M as F,ak as ye,aA as Se,a_ as we,af as _e,ae as ze,R as Ee}from"./index-C79AFz9e.js";const xe=L({zIndex:{type:Q([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),Te={scroll:({scrollTop:h,fixed:c})=>N(h)&&G(c),[ne]:h=>G(h)},se="ElAffix",Ce=B({name:se}),He=B({...Ce,props:xe,emits:Te,setup(h,{expose:c,emit:r}){const t=h,n=Y("affix"),i=W(),g=W(),d=W(),{height:o}=ie(),{height:b,width:w,top:l,bottom:s,update:m}=U(g,{windowScroll:!1}),p=U(i),u=v(!1),_=v(0),y=v(0),f=x(()=>({height:u.value?`${b.value}px`:"",width:u.value?`${w.value}px`:""})),e=x(()=>{if(!u.value)return{};const a=t.offset?D(t.offset):0;return{height:`${b.value}px`,width:`${w.value}px`,top:t.position==="top"?a:"",bottom:t.position==="bottom"?a:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:t.zIndex}}),E=()=>{if(d.value)if(_.value=d.value instanceof Window?document.documentElement.scrollTop:d.value.scrollTop||0,t.position==="top")if(t.target){const a=p.bottom.value-t.offset-b.value;u.value=t.offset>l.value&&p.bottom.value>0,y.value=a<0?a:0}else u.value=t.offset>l.value;else if(t.target){const a=o.value-p.top.value-t.offset-b.value;u.value=o.value-t.offset<s.value&&o.value>p.top.value,y.value=a<0?-a:0}else u.value=o.value-t.offset<s.value},k=()=>{m(),r("scroll",{scrollTop:_.value,fixed:u.value})};return j(u,a=>r("change",a)),Z(()=>{var a;t.target?(i.value=(a=document.querySelector(t.target))!=null?a:void 0,i.value||ee(se,`Target does not exist: ${t.target}`)):i.value=document.documentElement,d.value=ue(g.value,!0),m()}),$(d,"scroll",k),ce(E),c({update:E,updateRoot:m}),(a,z)=>(R(),I("div",{ref_key:"root",ref:g,class:C(S(n).b()),style:P(S(f))},[A("div",{class:C({[S(n).m("fixed")]:u.value}),style:P(S(e))},[te(a.$slots,"default")],6)],6))}});var Ne=O(He,[["__file","affix.vue"]]);const Xe=ae(Ne),H=4,Re={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Be=({move:h,size:c,bar:r})=>({[r.size]:c,transform:`translate${r.axis}(${h}%)`}),X=Symbol("scrollbarContextKey"),Pe=L({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),ke="Thumb",$e=B({__name:"thumb",props:Pe,setup(h){const c=h,r=le(X),t=Y("scrollbar");r||ee(ke,"can not inject scrollbar context");const n=v(),i=v(),g=v({}),d=v(!1);let o=!1,b=!1,w=pe?document.onselectstart:null;const l=x(()=>Re[c.vertical?"vertical":"horizontal"]),s=x(()=>Be({size:c.size,move:c.move,bar:l.value})),m=x(()=>n.value[l.value.offset]**2/r.wrapElement[l.value.scrollSize]/c.ratio/i.value[l.value.offset]),p=a=>{var z;if(a.stopPropagation(),a.ctrlKey||[1,2].includes(a.button))return;(z=window.getSelection())==null||z.removeAllRanges(),_(a);const T=a.currentTarget;T&&(g.value[l.value.axis]=T[l.value.offset]-(a[l.value.client]-T.getBoundingClientRect()[l.value.direction]))},u=a=>{if(!i.value||!n.value||!r.wrapElement)return;const z=Math.abs(a.target.getBoundingClientRect()[l.value.direction]-a[l.value.client]),T=i.value[l.value.offset]/2,M=(z-T)*100*m.value/n.value[l.value.offset];r.wrapElement[l.value.scroll]=M*r.wrapElement[l.value.scrollSize]/100},_=a=>{a.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",f),w=document.onselectstart,document.onselectstart=()=>!1},y=a=>{if(!n.value||!i.value||o===!1)return;const z=g.value[l.value.axis];if(!z)return;const T=(n.value.getBoundingClientRect()[l.value.direction]-a[l.value.client])*-1,M=i.value[l.value.offset]-z,re=(T-M)*100*m.value/n.value[l.value.offset];r.wrapElement[l.value.scroll]=re*r.wrapElement[l.value.scrollSize]/100},f=()=>{o=!1,g.value[l.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",f),k(),b&&(d.value=!1)},e=()=>{b=!1,d.value=!!c.size},E=()=>{b=!0,d.value=o};fe(()=>{k(),document.removeEventListener("mouseup",f)});const k=()=>{document.onselectstart!==w&&(document.onselectstart=w)};return $(V(r,"scrollbarElement"),"mousemove",e),$(V(r,"scrollbarElement"),"mouseleave",E),(a,z)=>(R(),K(me,{name:S(t).b("fade"),persisted:""},{default:oe(()=>[ve(A("div",{ref_key:"instance",ref:n,class:C([S(t).e("bar"),S(t).is(S(l).key)]),onMousedown:u},[A("div",{ref_key:"thumb",ref:i,class:C(S(t).e("thumb")),style:P(S(s)),onMousedown:p},null,38)],34),[[de,a.always||d.value]])]),_:1},8,["name"]))}});var J=O($e,[["__file","thumb.vue"]]);const Ae=L({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Le=B({__name:"bar",props:Ae,setup(h,{expose:c}){const r=h,t=le(X),n=v(0),i=v(0),g=v(""),d=v(""),o=v(1),b=v(1);return c({handleScroll:s=>{if(s){const m=s.offsetHeight-H,p=s.offsetWidth-H;i.value=s.scrollTop*100/m*o.value,n.value=s.scrollLeft*100/p*b.value}},update:()=>{const s=t==null?void 0:t.wrapElement;if(!s)return;const m=s.offsetHeight-H,p=s.offsetWidth-H,u=m**2/s.scrollHeight,_=p**2/s.scrollWidth,y=Math.max(u,r.minSize),f=Math.max(_,r.minSize);o.value=u/(m-u)/(y/(m-y)),b.value=_/(p-_)/(f/(p-f)),d.value=y+H<m?`${y}px`:"",g.value=f+H<p?`${f}px`:""}}),(s,m)=>(R(),I(he,null,[q(J,{move:n.value,ratio:b.value,size:g.value,always:s.always},null,8,["move","ratio","size","always"]),q(J,{move:i.value,ratio:o.value,size:d.value,vertical:"",always:s.always},null,8,["move","ratio","size","always"])],64))}});var Oe=O(Le,[["__file","bar.vue"]]);const Me=L({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Q([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...be(["ariaLabel","ariaOrientation"])}),We={scroll:({scrollTop:h,scrollLeft:c})=>[h,c].every(N)},De="ElScrollbar",je=B({name:De}),Ke=B({...je,props:Me,emits:We,setup(h,{expose:c,emit:r}){const t=h,n=Y("scrollbar");let i,g;const d=v(),o=v(),b=v(),w=v(),l=x(()=>{const e={};return t.height&&(e.height=D(t.height)),t.maxHeight&&(e.maxHeight=D(t.maxHeight)),[t.wrapStyle,e]}),s=x(()=>[t.wrapClass,n.e("wrap"),{[n.em("wrap","hidden-default")]:!t.native}]),m=x(()=>[n.e("view"),t.viewClass]),p=()=>{var e;o.value&&((e=w.value)==null||e.handleScroll(o.value),r("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function u(e,E){Ee(e)?o.value.scrollTo(e):N(e)&&N(E)&&o.value.scrollTo(e,E)}const _=e=>{N(e)&&(o.value.scrollTop=e)},y=e=>{N(e)&&(o.value.scrollLeft=e)},f=()=>{var e;(e=w.value)==null||e.update()};return j(()=>t.noresize,e=>{e?(i==null||i(),g==null||g()):({stop:i}=ge(b,f),g=$("resize",f))},{immediate:!0}),j(()=>[t.maxHeight,t.height],()=>{t.native||F(()=>{var e;f(),o.value&&((e=w.value)==null||e.handleScroll(o.value))})}),ye(X,Se({scrollbarElement:d,wrapElement:o})),Z(()=>{t.native||F(()=>{f()})}),we(()=>f()),c({wrapRef:o,update:f,scrollTo:u,setScrollTop:_,setScrollLeft:y,handleScroll:p}),(e,E)=>(R(),I("div",{ref_key:"scrollbarRef",ref:d,class:C(S(n).b())},[A("div",{ref_key:"wrapRef",ref:o,class:C(S(s)),style:P(S(l)),onScroll:p},[(R(),K(_e(e.tag),{id:e.id,ref_key:"resizeRef",ref:b,class:C(S(m)),style:P(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:oe(()=>[te(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?ze("v-if",!0):(R(),K(Oe,{key:0,ref_key:"barRef",ref:w,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var Ye=O(Ke,[["__file","scrollbar.vue"]]);const Ge=ae(Ye);export{Ge as E,Xe as a};
